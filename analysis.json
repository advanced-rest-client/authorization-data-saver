{
  "schema_version": "1.0.0",
  "elements": [
    {
      "description": "An element responsible for applying authorization data to the request\nbefore sending it to a server and requesting credentials data from the user.\nIt contains UI dialogs to request data from the user for Basic and NTLM\nauthorization. It listens for `before-request` and `response-ready` events\nas defined\n[in this issue](https://github.com/jarrodek/ChromeRestClient/issues/1010).\n\nThe element's API is based on custom events fired by the request editor\n(controller). There's no need to directly call any function or set a\nproperty. It adds event listeners to the `window` object. It should be\nplaced as close to the `<body>` as possible.\n\nThe `before-request` event is handled synchronously.\n\n### Styling\n\nSee [auth-dialogs](https://github.com/advanced-rest-client/auth-dialogs) for styling options.\n\n### Demo\n\nSee [auth-dialogs](https://github.com/advanced-rest-client/auth-dialogs) for dialogs demos.",
      "summary": "",
      "path": "authorization-data-saver.js",
      "properties": [
        {
          "name": "dialog",
          "type": "(HTMLElement | null)",
          "description": "Reference to currently opened dialog",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 90,
              "column": 2
            },
            "end": {
              "line": 92,
              "column": 3
            }
          },
          "metadata": {
            "polymer": {
              "readOnly": true
            }
          }
        },
        {
          "name": "url",
          "type": "string | null | undefined",
          "description": "URL of the request related to current operation.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 68,
              "column": 6
            },
            "end": {
              "line": 68,
              "column": 17
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "String"
            }
          }
        },
        {
          "name": "_cache",
          "type": "Array | null | undefined",
          "description": "Cashed list of authorization data for current session.\nIt is here so the element won't ask data store for data that already has been received.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 73,
              "column": 6
            },
            "end": {
              "line": 73,
              "column": 19
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "_openedDialog",
          "type": "string | null | undefined",
          "description": "Currently opened dialog name.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 77,
              "column": 6
            },
            "end": {
              "line": 77,
              "column": 27
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "String"
            }
          }
        }
      ],
      "methods": [
        {
          "name": "connectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 101,
              "column": 2
            },
            "end": {
              "line": 106,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "disconnectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 108,
              "column": 2
            },
            "end": {
              "line": 113,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_beforeRequestHandler",
          "description": "Handler for the ARC's event `before-request`.\nThe event will be handled synchronously.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 120,
              "column": 2
            },
            "end": {
              "line": 122,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "processRequest",
          "description": "Processes request before it's send to the transport library.\nIt sets\nTo mimic browser behavior the authorization data won't be set unless at least once in the\nsession the user has set authorization data for current URL.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 131,
              "column": 2
            },
            "end": {
              "line": 156,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "request",
              "type": "Object",
              "description": "The ArcRequest object"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_applyRequestBasicAuthData",
          "description": "Applies the basic authorization data to the request.\n\nIf the header value have changed then it fires `request-headers-changed` custom event.\nIt sets computed value of the readers to the event's detail object.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 167,
              "column": 2
            },
            "end": {
              "line": 181,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "request",
              "type": "Object",
              "description": "The event's detail object. Changes made here will be propagated to\nthe event."
            },
            {
              "name": "data",
              "type": "Object",
              "description": "The authorization data to apply."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_applyRequestNtlmAuthData",
          "description": "Applies the NTLM authorization data to the request.\n\nBecause NTLM requires certain operations on a socket it's bot just about setting a headers\nbut whole NTLM configuration object.\n\nApplied the `auth` object to the event's `detail.auth` object.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 194,
              "column": 2
            },
            "end": {
              "line": 201,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "request",
              "type": "Object",
              "description": "The event's detail object. Changes made here will be propagated to\nthe event."
            },
            {
              "name": "values",
              "type": "Object",
              "description": "The authorization data to apply."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_afterRequestHandler",
          "description": "Handler to the `response-ready` event",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 209,
              "column": 2
            },
            "end": {
              "line": 218,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "authorizationMethodFromResponse",
          "description": "Checks if the response require authorization and if so it returns the authorization\nmethod name for the endpoint.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 226,
              "column": 2
            },
            "end": {
              "line": 247,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "response",
              "type": "Response",
              "description": "The response object associated with the request"
            }
          ],
          "return": {
            "type": "(String | undefined)",
            "desc": "Authorization method or undefined if not found or not supported."
          }
        },
        {
          "name": "_processAuthResponse",
          "description": "Checks response object for any auth request.\nIf authorization is required for the endpoint it will display corresponding dialog if\nsupported.\n\nThis function shouldn't interrupt normal response flow. Id will display authorization\ndialog if required and when the user accept the dialog it fires the `resend-auth-request`\ncustom event.\n\nThis function exists quietly if any of the arguments are not set.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 263,
              "column": 2
            },
            "end": {
              "line": 276,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "method",
              "type": "String",
              "description": "Authorization method"
            },
            {
              "name": "request",
              "type": "Request",
              "description": "The request object."
            },
            {
              "name": "id",
              "type": "String",
              "description": "Request ID"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_openBasicAuthDialog",
          "description": "Opens a basic authorization dialog when response status is 401 and basic or digest\nauthorization is required.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 283,
              "column": 2
            },
            "end": {
              "line": 289,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "url",
              "type": "String"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_openNtlmAuthDialog",
          "description": "Opens the NTLM authorization dialog when response status is 401 and NTLM authorization\nis required.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 295,
              "column": 2
            },
            "end": {
              "line": 301,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "url",
              "type": "String"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_restoreDialogData",
          "description": "Restores the database object entry or cached object if any.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 308,
              "column": 2
            },
            "end": {
              "line": 329,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "url",
              "type": "String",
              "description": "The URL of the request"
            },
            {
              "name": "authMethod",
              "type": "String",
              "description": "The Authorization method to restore data for."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_findCachedAuthData",
          "description": "Finds an auth data for given `url`.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 337,
              "column": 2
            },
            "end": {
              "line": 343,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "type",
              "type": "String",
              "description": "Authorization type."
            },
            {
              "name": "url",
              "type": "String",
              "description": "The URL of the request."
            }
          ],
          "return": {
            "type": "(Object | undefined)",
            "desc": "Auth data if exists in the cache."
          }
        },
        {
          "name": "_cacheAuthData",
          "description": "Sends authorization data to the cache.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 351,
              "column": 2
            },
            "end": {
              "line": 359,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "type",
              "type": "String",
              "description": "Authorization type."
            },
            {
              "name": "url",
              "type": "String",
              "description": "current request URL"
            },
            {
              "name": "data",
              "type": "Object",
              "description": "Authorization data to store."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_setRestoredAuthData",
          "description": "Called when stored authorization data has been found in database or cache.\nIt updates the data in opened dialog.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 367,
              "column": 2
            },
            "end": {
              "line": 376,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "authMethod",
              "type": "String"
            },
            {
              "name": "doc",
              "type": "Object"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_restoreBasicData",
          "description": "Restore stored data to basic auth dialog.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 382,
              "column": 2
            },
            "end": {
              "line": 389,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "doc",
              "type": "Object",
              "description": "Stored authorization data."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_restoreNtlmData",
          "description": "Restore stored data to NTLM auth dialog.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 395,
              "column": 2
            },
            "end": {
              "line": 403,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "doc",
              "type": "Object",
              "description": "Stored authorization data."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_computeUrlPath",
          "description": "Removes query parameters and the fragment part from the URL",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 409,
              "column": 2
            },
            "end": {
              "line": 425,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "url",
              "type": "String",
              "description": "URL to process"
            }
          ],
          "return": {
            "type": "String",
            "desc": "Canonical URL."
          }
        },
        {
          "name": "_onAuthDialogResult",
          "description": "Called when the authorization dialog has been closed.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 431,
              "column": 2
            },
            "end": {
              "line": 452,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_setNtlmAuthData",
          "description": "Sets the NTLM authorization data and sends the `ntlm-data-changed` event so the request\neditor can attach it to the next request.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 460,
              "column": 2
            },
            "end": {
              "line": 480,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "values",
              "type": "Object",
              "description": "Map with values from dialog event."
            },
            {
              "name": "id",
              "type": "String",
              "description": "Request ID"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_setBasicAuthData",
          "description": "Sets the basic authorization data in the `headers` property or in headers in the `request`\nobject if provided.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 488,
              "column": 2
            },
            "end": {
              "line": 504,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "values",
              "type": "Object",
              "description": "Map with values from dialog event."
            },
            {
              "name": "id",
              "type": "String",
              "description": "Request ID"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_resendRequest",
          "description": "Sends an event about sending request with auth data.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 509,
              "column": 2
            },
            "end": {
              "line": 517,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "id",
              "type": "String",
              "description": "Request ID"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_storeAuthData",
          "description": "Stores the data in the datastore.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 524,
              "column": 2
            },
            "end": {
              "line": 539,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "authMethod",
              "type": "String"
            },
            {
              "name": "authData",
              "type": "Object"
            }
          ],
          "return": {
            "type": "void"
          }
        }
      ],
      "staticMethods": [],
      "demos": [
        {
          "url": "demo/index.html",
          "description": ""
        }
      ],
      "metadata": {},
      "sourceRange": {
        "start": {
          "line": 46,
          "column": 0
        },
        "end": {
          "line": 567,
          "column": 1
        }
      },
      "privacy": "public",
      "superclass": "HTMLElement",
      "name": "LogicElements.AuthorizationDataSaver",
      "attributes": [
        {
          "name": "url",
          "description": "URL of the request related to current operation.",
          "sourceRange": {
            "start": {
              "line": 68,
              "column": 6
            },
            "end": {
              "line": 68,
              "column": 17
            }
          },
          "metadata": {},
          "type": "string | null | undefined"
        }
      ],
      "events": [
        {
          "type": "CustomEvent",
          "name": "ntlm-data-changed",
          "description": "Fires when the NTLM authorization data are received from user input.\nThe request builder element should intercept this event and attach it to the next request.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "request-header-changed",
          "description": "Fired when the header value has changed.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "request-headers-changed",
          "description": "Fired when the request headers changed because of applied authorization.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "resend-auth-request",
          "description": "Fired when the user accepted authorization dialog, the request object has been altered and\nthe request is ready to be called again.",
          "metadata": {}
        }
      ],
      "styling": {
        "cssVariables": [],
        "selectors": []
      },
      "slots": [],
      "tagname": "authorization-data-saver",
      "mixins": [
        "ArcBehaviors.HeadersParserBehavior"
      ]
    }
  ]
}
